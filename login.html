<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تسجيل الدخول - مشوارك</title>
  <meta name="theme-color" content="#0b1220">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="wrap center">
    <h1>مشوارك</h1>
    <p class="sub" id="subtitle">تسجيل الدخول</p>

    <div class="panel">
      <input id="phone" type="tel" inputmode="tel" placeholder="رقم الموبايل (اختياري حالياً)" />
      <button class="action" id="loginBtn">دخول</button>
    </div>

    <button class="action ghost" id="backBtn">رجوع</button>
    <div class="hint" id="hint"></div>
  </div>

  <script>
    const type = localStorage.getItem("account_type") || "rider";
    document.getElementById("subtitle").textContent =
      (type === "driver") ? "تسجيل دخول السائق" : "تسجيل دخول الراكب";

    document.getElementById("backBtn").onclick = () => location.href = "/";

    document.getElementById("loginBtn").onclick = () => {
      localStorage.setItem("logged_in", "1");
      localStorage.setItem("phone", (document.getElementById("phone").value || "").trim());
      location.href = (type === "driver") ? "/driver.html" : "/rider.html";
    };
  </script>
  <script src="/app.js"></script>
</body>
</html>
